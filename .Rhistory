biodiversity = read.csv("data-entry-final - biodiversity.csv")
percent_cover = read.csv("data-entry-final - percent-cover.csv")
quadrat_data = read.csv("data-entry-final - quadrat-data.csv")
View(biodiversity)
summary(biodiversity)
summary(percent_cover)
summary(quadrat_data)
ggplot(biodiversity, aes(x = n, y = abiotic_hab, fill = n)) +
geom_point()
library(ggplot2)
library(ggplot2)
ggplot(biodiversity, aes(x = n, y = abiotic_hab, fill = n)) +
geom_point()
ggplot(biodiversity, aes(x = abiotic_hab, y = n, fill = n)) +
geom_boxplot()
ggplot(biodiversity, aes(x = abiotic_hab, y = n, fill = abiotic_hab)) +
geom_boxplot()
clean_biodiversity = biodiversity %>%
filter(boulder = boulder + boulders)
clean_biodiversity = biodiversity %<%
filter(boulder = boulder + boulders)
clean_biodiversity = biodiversity %<%
filter(boulder = boulder + boulders)
clean_biodiversity = biodiversity %>%
filter(boulder = boulder + boulders)
library(patchwork)
library(tidyverse)
library(tidyverse)
clean_biodiversity = biodiversity %>%
filter(boulder = boulder + boulders)
clean_biodiversity = biodiversity %>%
filter(boulder = boulder + boulders)
clean_biodiversity = biodiversity %>%
mutate(boulder == "boulder", "boulders", "boulder ")
clean_biodiversity = biodiversity %>%
mutate(boulder == "boulder", "boulders", "boulder ")
summary(biodiversity)
view(biodiversity)
clean_biodiversity = biodiversity %>%
mutate(boulder == "boulder", "boulders")
clean_biodiversity = biodiversity %>%
mutate(boulder == "boulder", "boulders")
biodiversity = read.csv("data-entry-final - biodiversity.csv")
clean_biodiversity = biodiversity %>%
mutate(boulder == "boulder", "boulders")
clean_biodiversity = biodiversity %>%
filter(boulder == "boulder", "boulders")
clean_biodiversity = biodiversity %>%
filter(abiotic_hab == "boulder", "boulders")
clean_biodiversity = biodiversity %>%
filter(abiotic_hab == "boulder", "boulders")
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab)
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab)
ordered_biodiversity
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
group_by(boulder == "boulder", "boulders")
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
rename(boulder = "boulder", "boulders")
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders")
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders")
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders", cobble = "cobble", "pebble,cobble", )
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders", cobble = "cobble", "pebble,cobble", pebble = "pebble,cobble")
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders", cobble = "cobble", "pebble,cobble", pebble = "pebble,cobble")
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders", cobble = "cobble", "pebble,cobble", pebble = "pebble,cobble")
clean_biodiversity
ggplot(biodiversity, aes(x = abiotic_hab, y = n, fill = abiotic_hab)) +
geom_boxplot()
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders", cobble = "cobble", "pebble,cobble", pebble = "pebble,cobble", "pebbles", "pebble")
ggplot(clean_biodiversity, aes(x = abiotic_hab, y = n, fill = abiotic_hab)) +
geom_boxplot()
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders", cobble = "cobble", "pebble,cobble", pebble = "pebble,cobble", "pebbles", "pebble")
clean_biodiversity
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders", cobble = "cobble", "pebble,cobble", pebble = "pebble,cobble", "pebbles", "pebble") %>%
rename(boulder = boulder, boulders = boulder)
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(boulder = "boulder", "boulders", cobble = "cobble", "pebble,cobble", pebble = "pebble,cobble", "pebbles", "pebble") %>%
rename(boulder = boulder, boulders = boulder)
clean_biodiversity
biodiversity = read.csv("data-entry-final - biodiversity.csv")
summary(biodiversity)
view(biodiversity)
ggplot(clean_biodiversity, aes(x = abiotic_hab, y = n, fill = abiotic_hab)) +
geom_boxplot()
ggplot(biodiversity, aes(x = abiotic_hab, y = n, fill = abiotic_hab)) +
geom_boxplot()
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
## How do I make it so boulder and boulders are the same name?
clean_biodiversity
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
## How do I make it so boulder and boulders are the same name?
clean_biodiversity
library(tidyverse)
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
## How do I make it so boulder and boulders are the same name?
clean_biodiversity
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
## How do I make it so boulder and boulders are the same name?
clean_biodiversity
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab)
## How do I make it so boulder and boulders are the same name?
clean_biodiversity
clean_biodiversity = biodiversity %>%
arrange(abiotic_hab)
clean_biodiversity
ordered_biodiversity
ggplot(biodiversity, aes(x = abiotic_hab, y = n, fill = abiotic_hab)) +
geom_boxplot()
ggplot(biodiversity, aes(x = abiotic_hab, y = n, fill = abiotic_hab)) +
geom_boxplot() +
labs(y = "Species count", x = "Substrate type")
group_by(square = "1")
group_by(square = "1")
group_by(square = "1", species)
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(square = "1")
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(square = "1")
ordered_biodiversity
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
mutate(square = "1", species = "Littorina spp.")
ordered_biodiversity
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
# should the pebbles,cobble column be changed?
# find number of species
ordered_biodiversity
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
# should the pebbles,cobble column be changed?
# find number of species
ordered_biodiversity
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab)
ordered_biodiversity = biodiversity %>%
arrange(square)
ordered_biodiversity
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab)
ordered_biodiversity
ggplot(biodiversity, aes(x = abiotic_hab, y = , fill = abiotic_hab)) +
geom_boxplot() +
labs(y = "Number of individuals", x = "Substrate type")
ggplot(ordered_biodiversity, aes(x = abiotic_hab, y = n, fill = abiotic_hab)) +
geom_boxplot() +
labs(y = "Number of individuals", x = "Substrate type")
ordered_biodiversity = biodiversity %>%
arrange(abiotic_hab) %>%
group_by(species1 = "Littorina spp.", species2 = "B. glandula")
ordered_biodiversity
species1
#useless graph
ggplot(ordered_biodiversity, aes(x = abiotic_hab, y = n, fill = abiotic_hab)) +
geom_boxplot() +
labs(y = "Number of individuals", x = "Substrate type")
---
title: "Field Sampling"
author: "Paige Amos"
date: "31/10/2021"
output: pdf_document
---
```{r}
library(tidyverse)
library(here)
```
library(tidyverse)
library(tidyverse)
library(here)
```{r}
biodiversity = read_csv(here("./data/biodiversity.csv"))
biodiversity = read_csv(here("./data/biodiversity.csv"))
knitr::kable(biodiversity, caption = "Biodiversity of invertebrates on various substrates")
cover = read_csv(here("./data/cover.csv"))
knitr::kable(biodiversity, caption = "Cover data")
quadrat = read_csv(here("./data/quadrat.csv"))
knitr::kable(biodiversity, caption = "Quadrat data")
head(merged_data_1)
merged_data_1 = merge(biodiversity, cover)
merged_data_1 = merge(biodiversity, cover)
head(merged_data_1)
merged_data_1 <- merged_data_1 %>%
select(-c(biotic_hab, per_mussel, per_barnacle, per_upright, per_crust, num_snail, num_crab))
#number of individuals per species in the 10 squares
quad_shannon <- biodiversity %>%
drop_na(n) %>%
group_by (vertical_transect, quadrat, species) %>%
summarize(n_per_species = sum(n))
#of occurrences per quadrat
quad_occ_count <- biodiversity %>%
drop_na(species, n) %>%
group_by(vertical_transect, quadrat, species) %>%
summarize(occ_count_per_quadrat = n())
#of species per quadrat
quad_species_count <- quad_occ_count %>%
group_by(vertical_transect, quadrat) %>%
summarize(species_per_quad = n())
#total number of individuals of all species in quadrat found in the 10 squares
quad_total <- biodiversity %>%
drop_na(species, n) %>%
group_by(vertical_transect, quadrat) %>%
summarize(n_total_per_quadrat = sum(n))
quad_shannon_2 <- merge(quad_shannon, quad_total, all = TRUE, by = c('vertical_transect', 'quadrat'))
quad_shannon_3 <- quad_shannon_2 %>%
drop_na(species) %>%
mutate(p_i = n_per_species/n_total_per_quadrat) %>%
mutate(Pi_lnPi = p_i*log(p_i))
#calulating shannon wiener for each quadrat and adding to merged data
shannon_index <- quad_shannon_3 %>%
group_by(vertical_transect, quadrat) %>%
summarize(H = -sum(Pi_lnPi))
merged_data_2 <- merge(quad_shannon, cover)
merged_data_3 <- merge(merged_data_1, shannon_index)
final_merged_data <- merge(merged_data_3, quad_species_count, all = TRUE, by = c('vertical_transect', 'quadrat')) %>%
unite(transect_quad, vertical_transect, quadrat)
final_merged_data <- merge(merged_data_3, quad_species_count, all = TRUE, by = c('vertical_transect', 'quadrat')) %>%
unite(transect_quad, vertical_transect, quadrat)
make boxplot of species richness for each substrate type
<<<<<<< HEAD
```{r}
figure_data = final_merged_data %>%
mutate(transect_quad = as.factor(transect_quad))
species_rich <- ggplot(figure_data, aes(x = per_cobble, y = species_per_quad, fill = transect_quad)) +
geom_point(aes(colour = transect_quad, size = 2)) +
stat_smooth(method = "lm", aes(fill = "transect_quad", colour = "black")) +
xlab("Percent Cobbles (%)") +
ylab("Species Richness") +
theme_classic() +
theme(legend.position = "none")
figure_data = final_merged_data %>%
mutate(transect_quad = as.factor(transect_quad))
species_rich <- ggplot(figure_data, aes(x = per_cobble, y = species_per_quad, fill = transect_quad)) +
geom_point(aes(colour = transect_quad, size = 2)) +
stat_smooth(method = "lm", aes(fill = "transect_quad", colour = "black")) +
xlab("Percent Cobbles (%)") +
ylab("Species Richness") +
theme_classic() +
theme(legend.position = "none")
species_rich
shannon_plot_cobble <- ggplot(figure_data, aes(x = per_cobble, y = H)) +
geom_point(aes(colour = transect_quad, size = 2)) +
theme_classic() +
xlab("Percent Cobbles (%)") +
ylab("Shannon Wiener Index") +
stat_smooth(method = "lm", aes(fill = "transect_quad", colour = "black")) +
theme(legend.position = "none")
shannon_plot_cobble
shannon_plot_pebble <- ggplot(figure_data, aes(x = per_pebble, y = H)) +
geom_point(aes(colour = transect_quad, size = 2)) +
theme_classic() +
xlab("Percent Pebble (%)") +
ylab("Shannon Wiener Index") +
stat_smooth(method = "lm", aes(fill = "transect_quad", colour = "black")) +
theme(legend.position = "none")
shannon_plot_pebble
library(tidyverse)
library(here)
biodiversity = read_csv(here("./data/biodiversity.csv"))
knitr::kable(biodiversity, caption = "Biodiversity of invertebrates on various substrates")
knitr::kable(biodiversity, caption = "Cover data")
merged_data_1 = merge(biodiversity, cover)
head(merged_data_1)
merged_data_1 <- merged_data_1 %>%
select(-c(biotic_hab, per_mussel, per_barnacle, per_upright, per_crust, num_snail, num_crab))
#number of individuals per species in the 10 squares
quad_shannon <- biodiversity %>%
drop_na(n) %>%
group_by (vertical_transect, quadrat, species) %>%
summarize(n_per_species = sum(n))
#of occurrences per quadrat
quad_occ_count <- biodiversity %>%
drop_na(species, n) %>%
group_by(vertical_transect, quadrat, species) %>%
summarize(occ_count_per_quadrat = n())
#of species per quadrat
quad_species_count <- quad_occ_count %>%
group_by(vertical_transect, quadrat) %>%
summarize(species_per_quad = n())
#total number of individuals of all species in quadrat found in the 10 squares
quad_total <- biodiversity %>%
drop_na(species, n) %>%
group_by(vertical_transect, quadrat) %>%
summarize(n_total_per_quadrat = sum(n))
quad_shannon_2 <- merge(quad_shannon, quad_total, all = TRUE, by = c('vertical_transect', 'quadrat'))
quad_shannon_3 <- quad_shannon_2 %>%
drop_na(species) %>%
mutate(p_i = n_per_species/n_total_per_quadrat) %>%
mutate(Pi_lnPi = p_i*log(p_i))
#calulating shannon wiener for each quadrat and adding to merged data
shannon_index <- quad_shannon_3 %>%
group_by(vertical_transect, quadrat) %>%
summarize(H = -sum(Pi_lnPi))
merged_data_2 <- merge(quad_shannon, cover)
merged_data_3 <- merge(merged_data_1, shannon_index)
final_merged_data <- merge(merged_data_3, quad_species_count, all = TRUE, by = c('vertical_transect', 'quadrat')) %>%
unite(transect_quad, vertical_transect, quadrat)
final_merged_data <- merge(merged_data_3, quad_species_count, all = TRUE, by = c('vertical_transect', 'quadrat')) %>%
unite(transect_quad, vertical_transect, quadrat)
figure_data = final_merged_data %>%
mutate(transect_quad = as.factor(transect_quad))
species_rich <- ggplot(figure_data, aes(x = per_cobble, y = species_per_quad, fill = transect_quad)) +
geom_point(aes(colour = transect_quad, size = 2)) +
stat_smooth(method = "lm", aes(fill = "transect_quad", colour = "black")) +
xlab("Percent Cobbles (%)") +
ylab("Species Richness") +
theme_classic() +
theme(legend.position = "none")
species_rich
species_rich
```{r}
shannon_plot_cobble <- ggplot(figure_data, aes(x = per_cobble, y = H)) +
geom_point(aes(colour = transect_quad, size = 2)) +
theme_classic() +
xlab("Percent Cobbles (%)") +
ylab("Shannon Wiener Index") +
stat_smooth(method = "lm", aes(fill = "transect_quad", colour = "black")) +
theme(legend.position = "none")
shannon_plot_cobble
shannon_plot_pebble <- ggplot(figure_data, aes(x = per_pebble, y = H)) +
geom_point(aes(colour = transect_quad, size = 2)) +
theme_classic() +
xlab("Percent Pebble (%)") +
ylab("Shannon Wiener Index") +
stat_smooth(method = "lm", aes(fill = "transect_quad", colour = "black")) +
theme(legend.position = "none")
shannon_plot_pebble
